#!/usr/bin/env php
<?php
/**
 * This file is part of the PPI Framework.
 *
 * @category    PPI
 * @package     DistributionModule
 * @copyright   Copyright (c) 2011-2013 Paul Dragoonis <paul@ppi.io>
 * @license     http://opensource.org/licenses/mit-license.php MIT
 * @link        http://www.ppi.io
 */

set_time_limit(0);

chdir(dirname(__DIR__));
require_once 'init.php';

$app = new PPI\App();
$app->loadConfig('app.yml');
$app->boot();
$config = $app->getConfig();

use PPI\Console\Command\ModuleCommand;
use Symfony\Component\Console\Application;
use Symfony\Component\Console\Output\ConsoleOutput;

$moduleCommand = new ModuleCommand();
$moduleCommand->setSkeletonModuleDir($config['skeleton.module.path']);
$moduleCommand->setTargetModuleDir($config['module_listener_options']['module_paths'][0]);

$application = new Application();
$application->add($moduleCommand);
$application->run();
